{% extends "base.html" %}

{% block title %}{{ title }}{% endblock title %}

{% block content %}
    <h1>{{title}}</h1>
{% if headings %}
<div class="table-of-contents">
    <h3>Contents</h3>
    <ul>
        {% for heading in headings %}
            <li class="toc-level-{{ heading.0 }}">
                <a href="#{{ heading.2 }}">{{ heading.1 }}</a>
            </li>
        {% endfor %}
    </ul>
</div>
{% endif %}
    <article>
        {% if date %}<div class="date">{{ date }}</div>{% endif %}
        {% if author %}<div class="author">By {{ author }}</div>{% endif %}
        {% if category %}<div class="category">Category: {{ category }}</div>{% endif %}

        <div class="markdown-content">
        {{ content | safe }}
        </div>
        
        {% if draft %}
            <div class="draft-notice">⚠️ This is a draft post</div>
        {% endif %}
    </article>
{% endblock content %}